/**
 * MGC - Maths Education DSL in AngularJS
 * @version v0.1.0 - 2012-12-21
 * @link https://github.com/gmp26/mgc
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("mgc.config",[]).value("mgc.config",{}),angular.module("mgc.filters",["mgc.config"]),angular.module("mgc.directives",["mgc.config"]),angular.module("mgc.services",["mgc.config"]),angular.module("mgc",["mgc.filters","mgc.directives","mgc.services","mgc.config"]),angular.module("mgc.directives").directive("mgcAdjustable",["mgc.config",function(e){var t=e.adjustable||{};return{restrict:"EAC",link:function(e,n,r,i){var s;s=angular.extend({},t,r.mgcTemplate)}}}]),angular.module("mgc.directives").directive("mgcEval",["mgc.funcGen",function(e){var t=e;return{restrict:"C",scope:!0,link:function(e,n,r){var i=t.define(r.f);r.sigfigs=r.sigfigs|3,console.log(n.html()),e.$watch("x",function(t,s){console.log(r.sigfigs),n.html(i(e.x).toPrecision(r.sigfigs))})}}}]),angular.module("mgc.directives").directive("mgcSortable",["mgc.config",function(e){var t;return t={},e.sortable!=null&&angular.extend(t,e.sortable),{require:"?ngModel",link:function(e,n,r,i){var s,o,u,a,f;return u=angular.extend({},t,e.$eval(r.mgcOptions)),i!=null&&(s=function(e,t){return t.item.data("mgc-sortable-start",t.item.index())},o=function(t,n){var r,s;return s=n.item.data("mgc-sortable-start"),r=n.item.index(),i.$modelValue.splice(r,0,i.$modelValue.splice(s,1)[0]),e.$apply()},a=u.start,u.start=function(t,n){return s(t,n),typeof a=="function"&&a(t,n),e.$apply()},f=u.update,u.update=function(t,n){return o(t,n),typeof f=="function"&&f(t,n),e.$apply()}),n.sortable(u)}}}]),angular.module("mgc.directives").directive("mgcStepper",["mgc.config",function(e){var t=e.mgcStepper||{};return{restrict:"A",link:function(e,n,r,i){var s;s=angular.extend({},t,r.mgcStepper);var o=n.spinner(s);e.$watch("amount",function(e){n.spinner("value",e)}),n.spinner({value:e.amount,spin:function(t,n){console.log("CHANGE"),e.amount=n.value,e.$apply()}})}}}]),angular.module("mgc.services",["mgc.config"],function(e){e.factory("funcGen",function(){var e=function(){var e=Array.prototype.slice.call(arguments);return function(t){return e.reduce(function(e,n){return e*t+n})}};return{poly:e,rational:function(){var t=e.apply(this,arguments);return function(){var n=e.apply(this,arguments);return function(e){return t(e)/n(e)}}},define:function(e){var t,n,r=/^\s*(\S+)\s*->\s*(.*)\s*$/,i=e.match(r);i!=null&&(t=i[1],t[0]==="("&&(t=t.slice(1,-1)),funcBody=i[2],funcBody=funcBody.replace(/Math\./g,"").replace(/asin/g,"Math.asin").replace(/acos/g,"Math.acos").replace(/atan/g,"Math.atan").replace(/sin/g,"Math.sin").replace(/cos/g,"Math.cos").replace(/tan/g,"Math.tan").replace(/log/g,"Math.log").replace(/exp/g,"Math.exp").replace(/pow/g,"Math.pow").replace(/ceil/g,"Math.ceil").replace(/floor/g,"Math.floor").replace(/round/g,"Math.round").replace(/sqrt/g,"Math.sqrt").replace(/abs/g,"Math.abs").replace(/atan2/g,"Math.atan2").replace(/PI/g,"Math.PI").replace(/LN2/g,"Math.LN2").replace(/LN10/g,"Math.LN10").replace(/LOG2E/g,"Math.LOG2E").replace(/LOG10E/g,"Math.LOG10E").replace(/SQRT1_2/g,"Math.SQRT1_2").replace(/SQRT2/g,"Math.SQRT2").replace(/E/g,"Math.E").replace(/Math.(a|LOG2|LOG10)Math./g,"Math.$1"));if(t&&funcBody&&t.length>0&&funcBody.length>0){var s=new Function(t,"return "+funcBody+";"),o=function(){var e=Array.prototype.slice.call(arguments);return s.apply(this,arguments)};return o.p=t,o.f=funcBody,o}throw new Error("unable to parse params or function body")}}})});